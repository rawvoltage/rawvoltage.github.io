function preload(){game.load.image("sky","assets/sky.png"),game.load.image("ground","assets/platform.png"),game.load.image("star","assets/star.png"),game.load.spritesheet("dude","assets/dude.png",32,48)}function create(){game.physics.startSystem(Phaser.Physics.ARCADE),game.add.sprite(0,0,"sky"),stars=game.add.group(),stars.enableBody=!0;for(var a=0;12>a;a++){var e=stars.create(70*a,0,"star");e.body.gravity.y=6,e.body.bounce.y=.7+.2*Math.random()}platforms=game.add.group(),platforms.enableBody=!0;var r=platforms.create(0,game.world.height-64,"ground");r.scale.setTo(2,2),r.body.immovable=!0;var o=platforms.create(400,400,"ground");o.body.immovable=!0,o=platforms.create(-150,250,"ground"),o.body.immovable=!0,player=game.add.sprite(32,game.world.height-150,"dude"),game.physics.arcade.enable(player),player.body.bounce.y=.2,player.body.gravity.y=300,player.body.collideWorldBounds=!0,player.animations.add("left",[0,1,2,3],10,!0),player.animations.add("right",[5,6,7,8],10,!0),player.enableBody=!0,scoreText=game.add.text(16,16,"score: 0",{fontSize:"32px",fill:"#000"})}function update(){function a(a,e){e.kill(),score+=10,scoreText.text="Score: "+score}game.physics.arcade.collide(player,platforms),cursors=game.input.keyboard.createCursorKeys(),player.body.velocity.x=0,cursors.left.isDown?(player.body.velocity.x=-150,player.animations.play("left")):cursors.right.isDown?(player.body.velocity.x=150,player.animations.play("right")):(player.animations.stop(),player.frame=4),cursors.up.isDown&&player.body.touching.down&&(player.body.velocity.y=-350),game.physics.arcade.collide(stars,platforms),game.physics.arcade.overlap(player,stars,a,null,this)}var game=new Phaser.Game(800,600,Phaser.AUTO,"",{preload:preload,create:create,update:update}),platforms,player,score=0,scoreText;